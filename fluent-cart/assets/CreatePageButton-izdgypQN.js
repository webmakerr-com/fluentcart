import{i as C,a as m,c as w,o as N,d as a,w as o,K as b,u,f as x,g as P,t as y,F as B}from"./vue.esm-bundler-DZdE0M9V.js";import{_ as $}from"./DynamicIcon-D-LZibaK.js";import{t as l}from"./Translator-Bios5QX5.js";import{n as c}from"./Notify-CV-A2uNH.js";import{R as S}from"./Rest-DEQMhckH.js";import{I as q}from"./Badge-CAEsoWyQ.js";import"./Arr-MwYQQ3qa.js";import"./Str-Ckn63bs5.js";import"./index-DwF99AZu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"dialog-footer"},z={__name:"CreatePageButton",props:{title:{default:"Create Page"},content:{required:!0,type:String}},emits:["onPageCreated"],setup(f,{emit:V}){const g=f,k=V,n=C(!1),r=C(g.title),_=()=>{S.post("onboarding/create-page",{page_name:r.value,content:g.content,save_settings:!0}).then(e=>{k("onPageCreated",{value:e.page_id,label:`${r.value}( ${e.page_id})`,page_link:e.link}),r.value="",n.value=!1,c.success(l("The page created successfully."))}).catch(e=>{if(e&&e.hasOwnProperty("page_name")){const t=Object.entries(e.page_name).length;let i="",p=0;for(const d in e.page_name)i+=e.page_name[d],p!==t&&(i+=`
`),p++;c.error(i)}else c.error(l("Sorry, Unable To Create Page!!"))})};return(e,t)=>{const i=m("el-input"),p=m("el-form-item"),d=m("el-form"),v=m("el-button"),h=m("el-dialog");return N(),w(B,null,[a(q,{onClick:t[0]||(t[0]=b(s=>n.value=!0,["prevent"])),tag:"button",bg:"info",outline:""},{default:o(()=>[a($,{name:"Plus"})]),_:1}),a(h,{modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=s=>n.value=s),title:u(l)("Create %s Page",f.title),width:"35%",center:"","append-to-body":!0},{footer:o(()=>[x("div",I,[a(v,{onClick:t[2]||(t[2]=s=>n.value=!1),type:"info",soft:""},{default:o(()=>[P(y(u(l)("Cancel")),1)]),_:1}),a(v,{type:"primary",onClick:_},{default:o(()=>[P(y(u(l)("Create Page")),1)]),_:1})])]),default:o(()=>[a(d,{"require-asterisk-position":"right","label-position":"top",onSubmit:b(_,["prevent"])},{default:o(()=>[a(p,{label:u(l)("Page Name"),required:""},{default:o(()=>[a(i,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=s=>r.value=s),placeholder:u(l)("Page Name")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1},8,["modelValue","title"])],64)}}};export{z as default};
