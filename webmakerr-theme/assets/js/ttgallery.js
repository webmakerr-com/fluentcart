/**
 * TTgallery 1.0.6
 * if-else-js.com
 * scythespin@gmail.com
 * Copyright 2020 Andrey Glazyrin
 * Released under the MIT License
 * Released on: April 17, 2020
 */

function ttgallery(t,e={}){let s=jQuery;if(!s(t).length)return!1;s(t).each(function(){let t,a,l,o,i,n,r,d,c,f,u,h,m,v,p,g,_,C,w,y,x,b,A,T,k=s(this),I=0,M=0,E=0,z=100,D=0,O=0,X=0,Y=0,j=0,q=[],B=0,L=0,W=0,Q=document.body.clientWidth;const R="disabled",F="active",G="opacity",H="transition",J="ease-out",K=".ttgallery_cont",N="animated",P="data-to",S="style",U="transform",V=".tt_one",Z="translate3d",$="tt_loaded",tt="data-count",et=".tt_next",st=".tt_prev",at="tt_dinamic",lt="vis_active";function ot(t,s){return"true"===e[t]&&(e[t]=1),"false"===e[t]&&(e[t]=0),null!=e[t]?e[t]:s}let it,nt,rt,dt,ct,ft,ut,ht,mt,vt,pt,gt,_t,Ct,wt,yt,xt,bt,At,Tt;function kt(){it=ot("slide_to_scroll",1),nt=ot("slide_to_view",1),rt=ot("loop",0),dt=ot("margin",0),ct=ot("vertical",0),ft=ot("vertical_height",0),ut=ot("dinamic",0),ht=ot("true_dinamic",0),mt=ot("force",0),vt=ot("dots",1),pt=ot("arrows",1),gt=ot("fade",0),_t=ot("group_dots",1),Ct=ot("lazy",0),wt=ot("lazy_attr","data-lazy"),yt=ot("speed",300),xt=ot("autoplay",0),bt=ot("delay",5e3),At=ot("stop_on_hover",1),Tt=ot("arrows_by_one",0),bt<yt&&(bt=yt)}function It(){if(e.responsive){let t=0;(w=Object.keys(e.responsive).map(t=>({value:t}))).sort((t,e)=>parseInt(t.value,10)-parseInt(e.value,10));let a=s(window).width();for(let e=w.length-1;e>-1;e--)w[e].value>=a&&(t=w[e].value);return t}return 0}function Mt(){return!!(rt&&E>nt)}function Et(t,s,a){return t&&null!=e.responsive[t][s]?e.responsive[t][s]:null!=e[s]?e[s]:a}function zt(t,e=!1){nt=Et(t,"slide_to_view",1),(it=Et(t,"slide_to_scroll",1))>nt&&(it=nt),rt=Et(t,"loop",0),dt=Et(t,"margin",0),ct=Et(t,"vertical",0),ft=Et(t,"vertical_height",0),ut=Et(t,"dinamic",0),ht=Et(t,"true_dinamic",0),mt=Et(t,"force",0),vt=Et(t,"dots",1),pt=Et(t,"arrows",1),gt=Et(t,"fade",0),_t=Et(t,"group_dots",1),e&&(Yt(M%E),Mt()?function(t=M%E){Y=0;let e=[];for(let t=0;t<3*E;t++)e[t]=s("["+tt+'="'+t%E+'"]:eq(0)',c).clone();c.html(e),u=s(V,c),d.removeAttr(S),Lt(),D=-E,O=E,M=t,B=-E*z-t*z-dt*(m=E+t),Wt(),j=1,Kt(t)}():function(t=M%E,e=j){t<0&&(t+=E);if(Y=0,e){let e=[];for(let t=0;t<E;t++)e[t]=s("["+tt+'="'+t+'"]:eq(0)',c).clone();c.html(e),u=s(V,c),E<=nt&&(t=0)}Lt(),M=t,rt||(M<0&&(M=0),E>nt?M>E-nt&&(M=E-nt):M=0);let a=M%E;s("."+F,v).removeClass(F),s('[data-id="'+a+'"]',v).addClass(F),B=-M*z-dt*M,Wt(),j=0,Kt(t)}()),!vt||E<nt+1?g.hide():g.show(),function(){!pt||E<=it||E<=nt?(_.hide(),C.hide()):(_.removeAttr(S),C.removeAttr(S));Dt()}(),e&&Gt()}function Dt(){0!=M||rt?_.removeClass(R):_.addClass(R),M!=E-nt||rt?C.removeClass(R):C.addClass(R)}function Ot(){v.hide(),p.addClass(at);let t="";for(let e=-2*it;e<=2*it;e++){let s;t+='<span class="'+(0==e?F:"")+'" '+(s=e<-it?"":e>it?"":'data-to="'+e+'"')+' data-i="'+e+'"></span>'}p.html(t)}function Xt(t){let e=s('[data-to="'+t+'"]',p);s("[data-to]",p).removeAttr(P),s("."+F,p).removeClass(F),e.addClass(F);let a=e,l=e;for(let t=1;t<=it;t++)a=a.prev().attr(P,-t),l=l.next().attr(P,t);p.css(H,"all "+yt+"ms "+J).css(U,Z+"("+-t*e.width()*T+"px,0,0"),setTimeout(()=>{p.css(H,"all 0ms "+J).css(U,Z+"(0px,0,0"),Ot()},yt)}function Yt(t=0){let e=rt?E:E-(nt-1);t>e-1&&(t=e-1,M=e-1,m=e-1);let s="";for(let a=0;a<e;a++)s+='<span class="'+(a!=t?"":F)+" "+(a%it==0||!_t||ut||a+1==e&&!rt?"":"gal_disabled")+'" data-id="'+a+'"></span>';v.html(s),y=v.html(),Mt()&&ut&&ht?(Ot(),p.show(),v.hide()):(p.hide(),v.show()),E<=nt&&(v.hide(),p.hide())}function jt(){A=setInterval(()=>{L&&At||Qt(1)},bt)}function qt(){clearInterval(A),jt()}function Bt(t="",e=0){E=0,D=0,O=0,(d=k).height(d.height()),t&&d.html(t.html()),s(">div",k).addClass("tt_one").each(function(){s(this).attr(tt,E),E++}),h=s('<div class="ttgallery_source">'+d.html()+"</div>"),d.addClass("tt_inited").html('<div class="ttgallery_cont"><div class="ttgallery">'+h.html()+'</div></div><div class="galpager_cont"><div class="galpager"></div><div class="galpager_dinamic"></div></div><span class="tt_prev"></span><span class="tt_next"></span></div>'),t||d.removeAttr(S),c=s(".ttgallery",d),f=s(K,d),u=s(V,d),v=s(".galpager",d),p=s(".galpager_dinamic",d),g=s(".galpager_cont",d),_=s(st,d),C=s(et,d),c.attr("data-total",E),zt(It()),Mt()&&(c.prepend(h.html()).append(h.html()),u=s(V,c)),s(V+"["+tt+'="'+e+'"]',c).addClass(F),Lt(),Mt()?(D+=-E,O+=E,B=-E*z-e*z-dt*(m=E+e),Wt(),j=1):(B=-e*z-dt*M,Wt()),M=e,Ut(),xt&&jt(),Yt(e),Kt(e),t&&d.removeAttr(S)}function Lt(){let t=1==T?"marginRight":"marginLeft";if(ct){let e=ft||f.height();f.height(e),c.css("flexDirection","column"),z=(e-dt*(nt-1))/nt,u.css("width","100%").css("height",z).css(t,0).css("marginBottom",dt)}else c.css("flexDirection","row"),f.css("height","auto"),z=(f.width()-dt*(nt-1))/nt,u.css("height","auto").css("width",z).css("marginBottom",0).css(t,dt)}function Wt(t=T){c[0].style.transform=ct?Z+"(0,"+B+"px,0":Z+"("+B*t+"px,0,0"}function Qt(t){q.push(t),Rt(),xt&&qt()}function Rt(){q.length&&!X&&(E>nt&&(W++,q[0]*q[0]?Jt(q[0]):(0===q[0].indexOf("p")&&Pt(q[0].slice(1)),0===q[0].indexOf("f")&&Jt(parseInt(q[0].slice(1)),0),0===q[0].indexOf("c")&&(X++,St(1)))),q.shift())}function Ft(){return M%E>-1?M%E:E+M%E}function Gt(t=null,e=null){if(Ct){if(null!=e)for(let a=e;a<t;t>e?a++:a--)s("["+tt+'="'+(a<=E?a:a-E)+'"] img['+wt+"]:not(."+$+")",c).each(function(){s(this).attr("src",s(this).attr(wt)).addClass($)});null==t&&(t=Ft());for(let e=t;e<t+nt;e++)s("["+tt+'="'+(e<E?e:e-E)+'"] img['+wt+"]:not(."+$+")",c).each(function(){s(this).attr("src",s(this).attr(wt)).addClass($)})}}function Ht(t,e){s(">.active",c).removeClass(F),s("["+tt+'="'+e+'"]',c).addClass(F),Gt(e,t),k.trigger("beforeAnim",[t,e])}function Jt(t,e=1){X++,c.addClass(N);let s=Ft();M+=e?t*it:t,m+=e?t*it:t,rt||(M<0&&(M=0),M>E-nt&&(M=E-nt)),Ht(s,Ft()),St(),Mt()&ut&&e&&ht&&Xt(t*it)}function Kt(t){t<0&&(t+=E);let e=s('[data-id="'+t+'"]',v);s("."+F,v).removeClass(F),s("."+lt,v).removeClass(lt),e.addClass(F),e.is(".gal_disabled")&&s('[data-id="'+(t-t%it)+'"]',v).addClass(lt),ut&&!rt||ut&&rt&&!ht?(v.addClass(at),s("[data-to]",v).removeAttr(P),s("."+F,v).removeClass(F),e.addClass(F),e.prev().attr(P,-1).prev().attr(P,-2),e.next().attr(P,1).next().attr(P,2),v.css(U,Z+"("+32*(E-t-(E+1)/2)*T+"px,0,0")):(v.removeClass(at),ut||v.removeAttr(S))}function Nt(){var t;X||(c.removeClass(N),c.css(H,"all 0s "+J),Mt()&&function(){let t=0;M-it<=D?(t=1,m+=E,D-=E,O-=E):O<=M+it&&(t=1,m-=E,O+=E,D+=E),t&&(B=-m*z-dt*m,c.css(H,"all 0ms "+J),Wt(),Lt(),Gt()),setTimeout(()=>{Rt()},10)}(),setTimeout(()=>{Rt()},10)),t=Ft(),s(">.active",c).removeClass(F),s("["+tt+'="'+t+'"]',c).addClass(F),Dt(),k.trigger("afterAnim",[t])}function Pt(t,e=yt){let a=Ft(),l=parseInt(s("."+F,v).attr("data-id"));m+=t-l,M+=t-l,Kt(t),B=Mt()?-m*z-dt*m:-M*z-dt*M,Ht(a,Ft()),gt?(u.css(H,G+" "+e/2+"ms linear"),u.css(G,0),setTimeout(()=>{u.css(G,1),Wt(),Nt()},e/2)):(c.css(H,"all "+e+"ms "+J),Wt(),setTimeout(()=>{c.css(H,"all 0ms "+J),Nt()},e))}function St(t=0){B=rt?-m*z-dt*m:-M*z-dt*M,Y=1,Kt(M%E<0?E+M%E:M%E),gt?(u.css(H,G+" "+(mt?yt/(2*q.length):yt/2)+"ms "+J),t||u.css(G,0),setTimeout(()=>{u.css(G,1),Wt(),X--,Nt()},mt?yt/(2*q.length):yt/2)):(c.css(H,"all "+(mt?yt/q.length:yt)+"ms "+J),Wt(),setTimeout(()=>{X--,Nt()},mt?yt/q.length:yt))}function Ut(){let t=s(window).scrollTop(),e=k.offset().top,a=s(window).height(),l=k.height();e>t+a||e<t-l||Gt()}kt(),T="rtl"==s("body").attr("dir")||"rtl"==s("html").attr("dir")?-1:1,s(window).resize(()=>{let t=document.body.clientWidth;Q!=t&&(zt(It(),1),Q=t)}),k.on("click",et,()=>{let t=ct?1:1*T;Qt(Tt?"f"+t:t)}),k.on("click",st,()=>{let t=ct?-1:-1*T;Qt(Tt?"f"+t:t)}),k.on("mousedown touchstart",K,e=>{if(3==e.which)return!1;E>nt&&(I=1),X||(W=0);let s=void 0!==e.originalEvent?e.originalEvent.touches:null;n=void 0!==s?s[0].pageX:e.clientX,r=void 0!==s?s[0].pageY:e.clientY;let l=c.offset(),d=f.offset();o=Math.round(l.left-d.left),i=Math.round(l.top-d.top),t=n,a=r,x=0,b=0}),k.on("mouseup touchend touchcancel mouseleave",K,()=>{if(I)if(I=0,ct){if(Math.abs(a-r))return l=a-r>0?-1:1,Math.abs(a-r)>(mt?50/(1+q.length):50)&&E>it?Qt(l):Qt("c"),!1;c.removeClass(N)}else{if(Math.abs(t-n))return l=t-n>0?-1:1,Math.abs(t-n)>(mt?50/(1+q.length):50)&&E>it?Qt(l*T):Qt("c"),!1;c.removeClass(N)}}),k.on("mousemove touchmove",K,e=>{let s=void 0!==e.originalEvent?e.originalEvent.touches:null;if(I&&(t=void 0!==s?s[0].pageX:e.clientX,a=void 0!==s?s[0].pageY:e.clientY,b>50&&b>x?b++:x>50&&x>b?x++:Math.abs(n-t)>Math.abs(r-a)?b++:x++,c.is("."+N)||c.addClass(N),X||W||gt||(ct?(e.preventDefault(),B=i-r+a,Wt()):b>x&&(B=o-n+t,Wt(1))),b>x&&!ct))return e.preventDefault(),!1}),k.on("click",".galpager>span",function(t){q=[],Qt("p"+s(this).attr("data-id"))}),k.on("click",".galpager_dinamic>span[data-to]",function(t){q=[],X||(Qt("f"+s(this).attr(P)),Xt(parseInt(s(this).attr("data-i"))))}),window.addEventListener("scroll",()=>{k.is(":visible")&&Ut()},{passive:!0}),k.hover(()=>{L=1},()=>{L=0}),k.on("addslide",(t,e,a="")=>{e&&function(t,e=0){let a,l=s(t).length;e?(h.prepend(t),a=M%E+l):(h.append(t),a=M%E),rt&&E<=nt&&(a=0),Bt(h,a)}(e,a)}),k.on("removeslide",(t,e)=>{!function(t){s(">:nth-child("+(t+1)+")",h).remove();let e=Ft(),a=e>=t&&e>0?e-1:e;rt&&E<=nt&&(a=0),Bt(h,a)}(e)}),k.on("slideto",(t,e,s)=>{E>nt&&Pt(e,s)}),k.on("next",(t,e=0)=>{let s=ct?1:1*T;Qt(e?"f"+s:s),Dt()}),k.on("prev",(t,e=0)=>{let s=ct?-1:-1*T;Qt(e?"f"+s:s),Dt()}),k.on("options",(t,s)=>{e=s,kt(),clearInterval(A),xt&&qt(),zt(It(),1)}),k.on("destroy",function(){s(this).off("mousemove touchmove",K).off("click",".galpager>span").off("mouseup touchend touchcancel mouseleave",K).off("mousedown touchstart",K).off("click",et).off("click",st).off("addslide").off("removeslide").off("slideto").off("next").off("prev").off("options").html(h.html()).removeClass("tt_inited"),s(V,this).removeAttr(tt).removeClass("tt_one")}),Bt(),setTimeout(Ut,100),k.on("dragstart","a",()=>!1)})}
