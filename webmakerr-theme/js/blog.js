const autosize=require("autosize");autosize($('.blog-item textarea[name="comment"]')),$(".js-toggle").on("click",(function(){$(this).parent().toggleClass("open")})),$("html").click((function(o){$(o.target).closest(".js-toggle").parent().length?o.stopPropagation():$(".js-toggle").parent().removeClass("open")})),$("form.search-form button.btn-legacy").on("click",(function(){$(this).parents(".list").addClass("active")})),$(".blog-search__form .clear").on("click",(function(){$('.blog-search__form [name="s"]').val("").change().focus()})),$("#show_more_posts").click((function(o){o.preventDefault();var t=$("#show_more_posts").attr("data-offset"),n=parseInt(t)+parseInt(5);$("#show_more_posts").attr("data-offset",n);var s={action:"more_posts",offset:n,data_cat:$("#show_more_posts").attr("data-cat")};$.post(alidAjax.ajaxurl,s,(function(o){$.each(o,(function(o,t){var n='<div class="blog-item"><div class="row"><div class="col-4 col-sm-4">'+t.thumb_photo+'</div><div class="col-sm-8 col-sm-offset-1">'+t.permalink+'<div class="blog-meta">'+t.date+"<strong>Category: </strong>"+t.category+'<div class="float-end d-none d-sm-block"><span class="view"><i class="fa fa-eye"></i> '+t.view+'</span><span class="comment"><i class="fa fa-comment"></i>'+t.comments_number+'</span></div></div><div class="content"><div class="footer-content">'+t.read_more+"</div></div></div></div>";$(".blog-list").append(n)})),o.length<5&&$("#show_more_posts").remove()}))}));export const blogPagination=function(){let o=!1,t=!1,n=!1,s="",i="";return{init:function(){$(".js-blog-pagination").length&&($(".js-blog-pagination .js-blog-pagination__links ul li").length?(o=$(".js-blog-pagination"),function(o){t=o.find(".js-blog-pagination__prev-btn"),n=o.find(".js-blog-pagination__next-btn"),t.length&&t.on("click",(function(){s&&(window.location.href=s)})),n.length&&n.on("click",(function(){i&&(window.location.href=i)}))}(o),function(o){if(!o.find(".js-blog-pagination__links").length)return!1;const e=$(o.find(".js-blog-pagination__links")[0]),a='ul[role="navigation"]>li:first-child>a.prev',l='ul[role="navigation"]>li:last-child>a.next';e.find(a).length?(s=e.find(a).attr("href"),e.find(a).closest("li").hide()):t.hide(),e.find(l).length?(i=e.find(l).attr("href"),e.find(l).closest("li").hide()):n.hide()}(o)):$(".js-blog-pagination").css({display:"none"}))}}}();!function(o){void 0===window.blogTopCategory&&(window.blogTopCategory=!0,o(".js-blog-footer-subscribe-btn").on("click",(function(t){t.preventDefault(),o("body,html").stop().animate({scrollTop:o("#blog-subscribe-form").offset().top-150},200),o('.js-blog-subscribe-form-wrap input[type="email"]').focus()})),o(".js-blog-top-category-mobile-menu__toogle-btn").on("click",(function(t){t.preventDefault();const n=o(this).closest(".js-blog-top-category-mobile-menu"),s="blog-top-category-mobile-menu_open";return n.hasClass(s)?n.removeClass(s):n.addClass(s),n.find(".js-blog-top-category-mobile-menu__list").slideToggle(),!1})),blogPagination.init())}(jQuery);
